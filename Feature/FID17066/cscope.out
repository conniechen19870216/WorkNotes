cscope 15 /media/Work/Dev/git/WorkNotes/Feature/FID17066 -q 0000000028 0000002657
	@base64.c

1 
	~"ba£64.h
"

3 *
	$ba£64_’code
(*
s
)

5 *
p
 = 
s
, *
e
, *
r
, *
_»t
;

6 
Ën
 = 
	`¡¾’
(
s
);

7 
un™
[4], 
‹mp
[3];

9 
e
 = 
s
 + 
Ën
;

10 
Ën
 =†en / 3 * 4 + 4 + 1;

11 
r
 = 
_»t
 = (*)
	`m®loc
(
Ën
);

13 
p
 < 
e
) {

14 
	`mem£t
(
‹mp
,0,3);

15 ià(
e
-
p
 >= 3) {

16 
	`memıy
(
‹mp
,
p
,3);

17 
p
 += 3;

19 
	`memıy
(
‹mp
,
p
,
e
-p);

20 
p
 = 
e
;

23 
un™
[0] = 
‹mp
[0] >> 2;

24 
un™
[1] = 
‹mp
[0] << 6;

25 
un™
[1] = (un™[1]>>2è| (
‹mp
[1]>>4);

26 
un™
[2] = 
‹mp
[1] << 4;

27 
un™
[2] = (un™[2]>>2è| (
‹mp
[2]>>6);

28 
un™
[3] = 
‹mp
[2] << 2;

29 
un™
[3] = unit[3] >> 2;

30 *
r
++ = 
B64
[
un™
[0]];

31 *
r
++ = 
B64
[
un™
[1]];

32 *
r
++ = (
un™
[2] ? 
B64
[unit[2]] : '=');

33 *
r
++ = (
un™
[3] ? 
B64
[unit[3]] : '=');

35 *
r
 = 0;

37 #ià
RETURNMALLOC
 == 0

38 
	`¡rıy
(
s
,
_»t
);

39 
	`ä“
(
_»t
);

40 
_»t
 = 
s
;

43  
_»t
;

44 
	}
}

46 *
	$ba£64_decode
(*
s
)

48 *
p
 = 
s
, *
e
, *
r
, *
_»t
;

49 
Ën
 = 
	`¡¾’
(
s
);

50 
i
, 
un™
[4];

52 
e
 = 
s
 + 
Ën
;

53 
Ën
 =†en / 4 * 3 + 1;

54 
r
 = 
_»t
 = (*)
	`m®loc
(
Ën
);

56 
p
 < 
e
) {

57 
	`memıy
(
un™
,
p
,4);

58 ià(
un™
[3] == '=')

59 
un™
[3] = 0;

60 ià(
un™
[2] == '=')

61 
un™
[2] = 0;

62 
p
 += 4;

64 
i
=0; 
un™
[0]!=
B64
[i] && i<64; i++);

65 
un™
[0] = 
i
==64 ? 0 : i;

66 
i
=0; 
un™
[1]!=
B64
[i] && i<64; i++);

67 
un™
[1] = 
i
==64 ? 0 : i;

68 
i
=0; 
un™
[2]!=
B64
[i] && i<64; i++);

69 
un™
[2] = 
i
==64 ? 0 : i;

70 
i
=0; 
un™
[3]!=
B64
[i] && i<64; i++);

71 
un™
[3] = 
i
==64 ? 0 : i;

72 *
r
++ = (
un™
[0]<<2) | (unit[1]>>4);

73 *
r
++ = (
un™
[1]<<4) | (unit[2]>>2);

74 *
r
++ = (
un™
[2]<<6) | unit[3];

76 *
r
 = 0;

78 #ià
RETURNMALLOC
 == 0

79 
	`¡rıy
(
s
,
_»t
);

80 
	`ä“
(
_»t
);

81 
_»t
 = 
s
;

84  
_»t
;

85 
	}
}

	@base64.h

8 #iâdeà
ALAN_BASE64_H


9 
	#ALAN_BASE64_H


	)

11 
	~<¡dio.h
>

12 
	~<¡dlib.h
>

13 
	~<¡ršg.h
>

19 
	#RETURNMALLOC
 1

	)

24 
	gB64
[64] =

43 *
ba£64_’code
(*
s
);

50 *
ba£64_decode
(*
s
);

	@main.c

1 
	~"ba£64.h
"

3 
	$maš
()

5 
s
[512] = "æ ‡å‡†Base64ç¼–ç Cè¯­è¨€ç‰ˆæœ¬â– ï¼Œè”ç³»ä½œè€…ï¼šwww.EasyIDE.cn";

6 *
’
, *
de
;

8 
	`´štf
("\nåŸå§‹å†…å®¹ï¼š\n%s\n\n",
s
);

11 
’
 = 
	`ba£64_’code
(
s
);

12 
	`´štf
("ç¼–ç ç»“æœï¼š\n%s\n\n",
’
);

14 
de
 = 
	`ba£64_decode
(
’
);

15 
	`´štf
("è§£ç ç»“æœï¼š\n%s\n\n",
de
);

17 
	`ä“
(
’
);

18 
	`ä“
(
de
);

22 
	`ba£64_’code
(
s
);

23 
	`´štf
("ç¼–ç ç»“æœï¼š\n%s\n\n",
s
);

25 
	`ba£64_decode
(
s
);

26 
	`´štf
("è§£ç ç»“æœï¼š\n%s\n\n",
s
);

30 
	}
}

	@
1
.
0
3
25
base64.c
base64.h
main.c
